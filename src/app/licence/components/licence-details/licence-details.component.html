<div *ngIf="licence" class="flex flex-col justify-center min-h-5/6 pt-10">
    <div class="font-bold text-2xl pb-10">
        <h2>DÃ©tails: </h2>
    </div>
    <div class="grid gap-6 md:grid-rows-2 font-bold text-xl">
        <!--ROW 1-->
        <div class="flex flex-row justify-between">
            <p>{{licence.type.name}}</p>
        </div>
    </div>
        <div class="py-4">
            <hr class="">
        </div>
    <form>
        <div class="grid gap-6 mb-6 md:grid-cols-2">
            <div>
                <label for="description" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Description</label>
                <input name="description" [disabled]="is_locked" [(ngModel)]="licence.description" placeholder="description" disabled type="text" id="description" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500">
            </div>
            <div>
                <label for="value" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Valeur</label>
                <input name="value" [disabled]="is_locked" [(ngModel)]="licence.value" placeholder="value" type="text" id="description" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500">
            </div>
            <div *ngIf="is_locked">
                <label for="type" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Type</label>
                <input disabled name="type" placeholder="type" type="text" id="type" value="{{licence.type.name}}" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500">
            </div>
            <div *ngIf="is_locked">
                <label for="user" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Utilisateur</label>
                <input disabled name="user" value="{{licence.user?.firstname}} {{licence.user?.lastname}}" placeholder="user" type="text" id="user" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500">
            </div>
            <div *ngIf="!is_locked">
                <mat-label>Type</mat-label>
                <mat-select [(value)]="licence.type.id" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500">
                    <mat-option *ngFor="let type of types" [value]="type.id">
                    {{type.name}}
                    </mat-option>
                </mat-select>
            </div>
            <div *ngIf="!is_locked">
                <mat-label>Utilisateur</mat-label>
                <input type="text" matInput [formControl]="searchUserSelect"
                class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"
                placeholder="Chercher un Utilisateur"
                [matAutocomplete]="auto">
                <mat-autocomplete #auto="matAutocomplete" [displayWith]="getUserDisplay.bind(this)" >
                <mat-option *ngFor="let user of filteredUserOptions | async" [value]="user.id">
                    {{user.username}} ({{user.firstname}} {{user.lastname}})
                </mat-option>
                </mat-autocomplete>
            </div>
        </div>
        <div class="py-4">
            <hr class="">
        </div>
        <div class="flex flex-row-reverse justify-between">
            <div *ngIf="!is_locked" class="flex flex-row-reverse mb-6">
                <button (click)="put()" mat-button mat-flat-button color="primary">Valider</button>
            </div>
            <div *ngIf="is_locked" class="flex flex-row-reverse mb-6">
                <a (click)="toggleLock()" mat-button mat-flat-button color="accent">Modifier</a>
            </div>
            <div *ngIf="!is_locked" class="flex flex-row-reverse mb-6">
                <a (click)="toggleLock()" mat-button mat-flat-button color="warn">Annuler</a>
            </div>
        </div>
    </form>
</div>
