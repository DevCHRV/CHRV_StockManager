<div *ngIf="unit" class="flex flex-col justify-center min-h-5/6 pt-10">
    <div class="font-bold text-2xl pb-10">
        <p>Service: </p>
    </div>
    <div class="flex flex-row justify-between font-bold text-2xl pb-10">
        <div class="flex flex-col justify-between">
            <p>{{unit.name}}</p>
        </div>
   </div>
    <div class="py-4">
        <hr class="">
    </div>
    <div *ngIf="unit" (ngSubmit)="put()">
        <div class="grid gap-6 mb-6 md:grid-cols-2">
            <div>
                <label for="name" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Nom</label>
                <input [disabled]="is_locked" name="name" [(ngModel)]="unit.name" type="text" id="name" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500">
            </div>
        </div>
    </div>
    <div class="py-4">
        <hr class="">
    </div>
    <div *ngIf="unit" class="max-w-full overflow-auto">
        <div class="grid gap-6 mb-6 md:grid-cols-5">
            <div class="font-bold text-xl pb-4 ">
                <h2>Locaux:</h2>
            </div>
            <div *ngIf="!is_locked" class="flex flex-row items-center justify-center align-middle col-span-4">
                <div class="mr-4 h-10 w-full">
                    <input type="text" matInput [formControl]="room"
                    class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"
                    placeholder="Ajouter un local" (keyup.enter)="addRoom()">
                </div>
                <button mat-button mat-flat-button color="accent" (click)="addRoom()">Ajouter</button>
            </div>
        </div>
        <table class="table-auto w-full md:table-fixed">
            <thead class="text-left">
                <tr>
                    <th class="p-3">Id</th>
                    <th class="p-3">Nom</th>
                    <th class="p-3"></th>
                </tr>
            </thead>
            <tbody *ngIf="unit.rooms" class="text-left">
                <tr *ngFor="let room of unit.rooms">
                    <td class="p-3">{{room.id}}</td>
                    <td class="p-3">{{room.name}}</td>
                    <td class="p-3 pr-0 flex flex-row justify-end">
                        <button *ngIf="!is_locked" mat-button mat-flat-button color="warn" (click)="removeRoom(room)">Supprimer</button>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
    <div class="py-4">
        <hr class="">
    </div>
    <div class="flex flex-row-reverse justify-between">
        <div *ngIf="!is_locked" class="flex flex-row-reverse mb-6">
            <button (click)="put()" mat-button mat-flat-button color="primary">Valider</button>
        </div>
        <div *ngIf="is_locked" class="flex flex-row-reverse mb-6">
            <a (click)="toggleLock()" mat-button mat-flat-button color="accent">Modifier</a>
        </div>
        <div *ngIf="!is_locked" class="flex flex-row-reverse mb-6">
            <a (click)="toggleLock()" mat-button mat-flat-button color="warn">Annuler</a>
        </div>
    </div>
</div>